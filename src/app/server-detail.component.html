<div *ngIf="server">
  <table class="table table-hover">
    <thead class="thead-inverse">
    <tr>
      <th>Rank</th>
      <th>Name</th>
      <th>Server</th>
      <th>Players</th>
      <th>Votes</th>
    </tr>
    </thead>
    <tbody>
      <tr app-rank-entry [server]="server"></tr>
    </tbody>
  </table>
  <div class="row">
    <div class="col-sm-5">
      <div class="row">
        <form class="form-horizontal">
          <div class="form-group row">
            <div class="col-sm-9">
              <input class="form-control" id="mcusername" [hidden]="votecomplete" *ngIf='server.votifier' type="text" name="mcusername" [(ngModel)]="mcusername" placeholder="MC Username">
              <p *ngIf="votecomplete">Thanks for voting!</p>
            </div>
            <div class="col-sm-3">
              <button class="btn" (click)="sendVote()" [class.btn-success]="votesuccess == 1" [class.btn-success]="votesuccess == 2" [disabled]="votecomplete">Vote!</button>
            </div>
          </div>
        </form>
      </div>
      <table class="table">
        <tbody>
          <tr>
            <th scope="row">Address</th>
            <td>{{server.address}}</td>
          </tr>
          <tr>
            <th scope="row">Port</th>
            <td>{{server.port}}</td>
          </tr>
          <tr>
            <th scope="row">Online</th>
            <td>{{server.online}}</td>
          </tr>
          <tr *ngIf="server.online">
            <th scope="row">Current Players</th>
            <td>{{server.currPlayers}}</td>
          </tr>
          <tr *ngIf="server.online">
            <th scope="row">Maximum Players</th>
            <td>{{server.maxPlayers}}</td>
          </tr>
          <tr *ngIf="!server.online">
            <th scope="row">Last Online</th>
            <td><time>{{ server.lastOnline | amTimeAgo }}</time></td>
          </tr>
          <tr>
            <th scope="row">Last Ping</th>
            <td><time>{{ server.lastPing | amTimeAgo }}</time></td>
          </tr>
          <tr>
            <th scope="row">Votifier Enabled</th>
            <td>{{server.votifier}}</td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="col-sm-7">
      <h4>Description:</h4>
      <p>{{server.description}}</p>
      <h5><a href="#">Vote!</a></h5>
    </div>
  </div>

</div>
